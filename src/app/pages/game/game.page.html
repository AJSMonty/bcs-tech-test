<div class="page">
  <label class="flex flex-col items-center gap-2">
    <h3 class="text-zinc-900 font-bold mb-0">Customise wheel</h3>
    <div>
      <input
        type="number"
        min="2"
        max="37"
        class="w-8"
        [value]="state.segmentCount()"
        (input)="onSegmentInput($any($event.target).value)"
        [disabled]="state.isSpinning()"
      />
      <span class="ml-2 text-sm">segments (max 37)</span>
    </div>
  </label>
  <div class="wheel-wrap mt-8 relative">
    <div #wheel class="wheel">
      <app-roulette-wheel [segments]="state.segments()" [radius]="160" />
    </div>
    <div class="pointer" aria-hidden="true">
      <div class="pointer-flap"></div>
    </div>
  </div>

  <div class="flex flex-col gap-2 justify-center items-center mt-8">
    <button class="min-w-48 max-w-48" (click)="spin('random')" [disabled]="state.isSpinning()">
      Random spin ðŸŽ²
    </button>
    <p class="text-zinc-800">- or -</p>
    <div class="grow">
      <label class="flex flex-col items-center gap-2">
        <h3 class="text-zinc-900 font-bold mb-0 mt-0">Pick a number to land on</h3>
        <input
          type="number"
          min="0"
          [max]="state.segmentCount() - 1"
          class="w-8"
          [value]="landOnLabel"
          (input)="onLandOnInput($any($event.target).value)"
          [disabled]="state.isSpinning()"
        />
      </label>
      @if (fixedIndex === null && landOnLabel !== '') {
      <p class="text-sm opacity-80 mt-2 text-red-500">
        That number isnâ€™t on this wheel, try a number between 0 and {{ state.segmentCount() - 1 }}
      </p>
      } @else {
      <p class="text-sm mt-2 text-zinc-800">Must be between 0 and {{ state.segmentCount() - 1 }}</p>
      }
      <button
        class="min-w-48 grow max-w48 bg-slate-700 text-slate-200"
        (click)="spin('fixed')"
        [disabled]="state.isSpinning() || fixedIndex === null"
      >
        Fixed Spin ðŸ”’
      </button>
    </div>
  </div>
</div>
